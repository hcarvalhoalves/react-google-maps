!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.ReactGmaps=t()}}(function(){return function t(e,o,n){function s(r,a){if(!o[r]){if(!e[r]){var p="function"==typeof require&&require;if(!a&&p)return p(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){var o=e[r][1][t];return s(o?o:t)},u,u.exports,t,e,o,n)}return o[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e){(function(t){function o(t){if(t&&t.location){var e=t.location;return[e.lat(),e.lng()]}return null}function n(){return new google.maps.LatLngBounds(new google.maps.LatLng(this.props.bounds[0]),new google.maps.LatLng(this.props.bounds[1]))}function s(t){center=t.getCenter(),ne=t.getNorthEast();var e=6378100,o=center.lat()/57.2958,n=center.lng()/57.2958,s=ne.lat()/57.2958,i=ne.lng()/57.2958;return e*Math.acos(Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(i-n))}var i="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,r=i.createClass({displayName:"MapWidget",getInitialState:function(){return{map:null,markers:[]}},getDefaultProps:function(){return{latitude:0,longitude:0,zoom:4,width:400,height:400,draggable:!1,scrollwheel:!1,zoomControl:!0,scaleControl:!1,panControl:!1,mapTypeControl:!1,streetViewControl:!1,overviewMapControl:!1,points:[]}},componentDidMount:function(){var t={zoom:this.props.zoom,center:this.getCenter(),mapTypeId:google.maps.MapTypeId.ROADMAP,draggable:this.props.draggable,scrollwheel:this.props.scrollwheel,zoomControl:this.props.zoomControl,scaleControl:this.props.scaleControl,panControl:this.props.panControl,mapTypeControl:this.props.mapTypeControl,streetViewControl:this.props.streetViewControl,overviewMapControl:this.props.overviewMapControl},e=new google.maps.Map(this.getDOMNode(),t);this.setState({map:e}),this.updateMarkers(this.props.points),this.forceUpdate()},componentWillReceiveProps:function(t){t.points&&this.updateMarkers(t.points)},componentDidUpdate:function(){var t=this.state.map,e=this.getBounds();e?(t.setCenter(e.getCenter()),this.props.points.length>1&&t.fitBounds(e),1==this.props.points.length&&t.setZoom(15)):t.setCenter(this.getCenter())},getCenter:function(){var t=this.props;return new google.maps.LatLng(t.latitude,t.longitude)},getBounds:function(){this.state.map;if(this.props.points.length>0){var t=new google.maps.LatLngBounds;return this.props.points.forEach(function(e){t.extend(new google.maps.LatLng(e.latitude,e.longitude))}),t}},updateMarkers:function(t){var e=this.state.markers,o=this.state.map;e.forEach(function(t){t.setMap(null)}),this.state.markers=[],t.forEach(function(t){var n=new google.maps.LatLng(t.latitude,t.longitude),s=new google.maps.Marker({position:n,map:o,title:t.title||null,icon:t.icon||null});google.maps.event.addListener(s,"click",t.onClick||null),e.push(s)}),this.setState({markers:e})},render:function(){var t={width:this.props.width,height:this.props.height};return i.createElement("div",{style:t})}}),a=i.createClass({displayName:"StaticMapWidget",getDefaultProps:function(){return{latitude:0,longitude:0,zoom:15,width:300,height:300,scale:1}},render:function(){var t=["center="+this.props.latitude+","+this.props.longitude,"zoom="+this.props.zoom,"size="+this.props.width+"x"+this.props.height,"scale="+this.props.scale].join("&");return this.transferPropsTo(i.createElement("img",{src:"http://maps.googleapis.com/maps/api/staticmap?"+t}))}}),p=i.createClass({displayName:"AutocompleteField",getInitialState:function(){return{valid:!1,empty:!0}},getDefaultProps:function(){return{types:["geocode"],country:null,bounds:null,onPlaceChanged:function(){}}},componentDidMount:function(){var t=this.getDOMNode(),e={types:this.props.types};this.props.bounds&&(e.bounds=n(this.props.bounds)),this.props.country&&(e.componentRestrictions={country:this.props.country}),this.autocomplete=new google.maps.places.Autocomplete(t,e),google.maps.event.addListener(this.autocomplete,"place_changed",this.handlePlaceChange),this.props.defaultPlace&&(t.value=this.props.defaultPlace.name,this.props.onPlaceChanged(this.props.defaultPlace.location))},handleInputChange:function(t){this.setState({empty:0==t.target.value.length})},handlePlaceChange:function(){var t=this.autocomplete.getPlace(),e=0==t.name.length,n=t&&t.geometry,i=n&&t.geometry.viewport,r=n?o(t.geometry):null,a=i?s(t.geometry.viewport):null;this.setState({valid:n,empty:e},function(){(n||e)&&this.props.onPlaceChanged(r,a)}.bind(this))},render:function(){return this.transferPropsTo(i.createElement("input",{type:"text",onChange:this.handleInputChange}))}});e.exports={MapWidget:r,StaticMapWidget:a,AutocompleteField:p}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});